<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>djnativeswing-clj.browser documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Djnativeswing-clj 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>djnativeswing-clj</span></div></div></li><li class="depth-2 branch current"><a href="djnativeswing-clj.browser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>browser</span></div></a></li><li class="depth-2 branch"><a href="djnativeswing-clj.browser-window.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>browser-window</span></div></a></li><li class="depth-2 branch"><a href="djnativeswing-clj.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="djnativeswing-clj.native-interface.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>native-interface</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-add-js-callback.21"><div class="inner"><span>add-js-callback!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-clear-cookies.21"><div class="inner"><span>clear-cookies!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-cookie"><div class="inner"><span>cookie</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-cookie.21"><div class="inner"><span>cookie!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-copy-appearance.21"><div class="inner"><span>copy-appearance!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-copy-content.21"><div class="inner"><span>copy-content!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-dispose.21"><div class="inner"><span>dispose!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-exec-js.21"><div class="inner"><span>exec-js!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-go-back.21"><div class="inner"><span>go-back!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-go-forward.21"><div class="inner"><span>go-forward!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-info"><div class="inner"><span>info</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-load.21"><div class="inner"><span>load!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-print.21"><div class="inner"><span>print!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-reload.21"><div class="inner"><span>reload!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-set-decorator-factory.21"><div class="inner"><span>set-decorator-factory!</span></div></a></li><li class="depth-1"><a href="djnativeswing-clj.browser.html#var-stop-loading.21"><div class="inner"><span>stop-loading!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">djnativeswing-clj.browser</h2><div class="doc"><pre class="plaintext">Holds functions for controlling the state of browser widgets of DJ
Native Swing, e.g. for displaying and interacting with web content
through them.

See:
  <a href="http://djproject.sourceforge.net/ns/documentation/javadoc/chrriis/dj/nativeswing/swtimpl/components/JWebBrowser.html">http://djproject.sourceforge.net/ns/documentation/javadoc/chrriis/dj/nativeswing/swtimpl/components/JWebBrowser.html</a>
</pre></div><div class="public anchor" id="var-add-js-callback.21"><h3>add-js-callback!</h3><div class="usage"><code>(add-js-callback! target name f)</code></div><div class="doc"><pre class="plaintext">Registers a Clojure function as a JavaScript callback function with the
specified name.

Calling the callback function from JavaScript results in the invocation of the
Clojure function with the passed parameters. The Clojure function is of the
type (fn [target name &amp; args] ...).

Returns a function which removes the callback.

Example:

  (defn js-callback
    [browser _ &amp; [n s]]
    (println &quot;In Clojure!&quot;)
    (println &quot;Number was:&quot; n)
    (println &quot;String was:&quot; s))

  (add-js-callback! browser &quot;foo&quot; js-callback)
  (exec-js! browser &quot;foo(1, \&quot;Hello, World!\&quot;);&quot;)
</pre></div></div><div class="public anchor" id="var-clear-cookies.21"><h3>clear-cookies!</h3><div class="usage"><code>(clear-cookies!)</code></div><div class="doc"><pre class="plaintext">Deletes all stored cookies for all browser widgets and returns nil.

See:
  (cookie)
  (cookie!)
</pre></div></div><div class="public anchor" id="var-cookie"><h3>cookie</h3><div class="usage"><code>(cookie url name)</code></div><div class="doc"><pre class="plaintext">Returns the cookie with the specified name for the specified URL or nil if no
matching cookie is available.

See:
  (cookie!)
  (clear-cookies!)
</pre></div></div><div class="public anchor" id="var-cookie.21"><h3>cookie!</h3><div class="usage"><code>(cookie! url name val &amp; attrs)</code></div><div class="doc"><pre class="plaintext">Stores a cookie for the specified URL with the given name and attributes.

The attributes are passed as a sequence of k or [k v] where k is the
attribute&apos;s name as a keyword and v is its value if there is one.

Currently supported attributes are:

  :domain     &lt;string&gt;
  :path       &lt;string&gt;
  :expires    &lt;string&gt;
  :max-age    &lt;string&gt; | &lt;number&gt;
  :secure
  :http-only

Returns nil.

Examples:

  (cookie! &quot;<a href="http://www.yahoo.com&quot">http://www.yahoo.com&quot</a>; &quot;foo&quot; &quot;bar&quot;)
  (cookie!
    &quot;<a href="http://www.google.com&quot">http://www.google.com&quot</a>;
    &quot;foo&quot;
    &quot;bar&quot;
    [:secure [:max-age 6000]])

See:
  (cookie)
  (clear-cookies!)
</pre></div></div><div class="public anchor" id="var-copy-appearance.21"><h3>copy-appearance!</h3><div class="usage"><code>(copy-appearance! source target)</code></div><div class="doc"><pre class="plaintext">Adjusts the appearance of target (toolbars, status bar etc.) to match that of
source and returns target.</pre></div></div><div class="public anchor" id="var-copy-content.21"><h3>copy-content!</h3><div class="usage"><code>(copy-content! source target)</code></div><div class="doc"><pre class="plaintext">Copies the content of source (the requested resource&apos;s URL or the loaded HTML)
into target and returns target.</pre></div></div><div class="public anchor" id="var-dispose.21"><h3>dispose!</h3><div class="usage"><code>(dispose! target)</code><code>(dispose! target with-confirm)</code></div><div class="doc"><pre class="plaintext">Disposes the native SWT peer of the browser widget and optionally shows a
dialog box to ask the user for confirmation if with-confirm is provided
and equals true.

Returns true if the native peer was successfully disposed, false otherwise.</pre></div></div><div class="public anchor" id="var-exec-js.21"><h3>exec-js!</h3><div class="usage"><code>(exec-js! target js)</code><code>(exec-js! target js with-result)</code></div><div class="doc"><pre class="plaintext">Executes a chunk of JavaScript code within the context of the currently
loaded resource.

If with-result is true, the chunk should end with a return statement the value
of which is the result of calling this function. If with-result is false or
omitted, the function returns nil.

Examples:

  (exec-js! browser &quot;alert(document.title);&quot;)
  (exec-js! browser &quot;return 1 + 1;&quot;) ; Result is ignored.
  (exec-js! browser &quot;alert(document.title); return document.title;&quot; true)
</pre></div></div><div class="public anchor" id="var-go-back.21"><h3>go-back!</h3><div class="usage"><code>(go-back! target)</code></div><div class="doc"><pre class="plaintext">Displays the page directly preceeding the current page in the browser
history, if one is available.

Returns the browser widget.

See:
  (go-forward!)
</pre></div></div><div class="public anchor" id="var-go-forward.21"><h3>go-forward!</h3><div class="usage"><code>(go-forward! target)</code></div><div class="doc"><pre class="plaintext">Displays the page directly following the current page in the browser history,
if one is available.

Returns the browser widget.

See:
  (go-back!)
</pre></div></div><div class="public anchor" id="var-info"><h3>info</h3><div class="usage"><code>(info target)</code></div><div class="doc"><pre class="plaintext">Returns miscellaneous information about the browser runtime of the spefied
browser widget as a map currently consisting of the following keys:

  :type    a string with the type of the browser&apos;s runtime
  :version a string with the version of the browser or nil
</pre></div></div><div class="public anchor" id="var-load.21"><h3>load!</h3><div class="usage"><code>(load! target dest &amp; {:keys [headers post-data]})</code></div><div class="doc"><pre class="plaintext">Sends an HTTP GET or POST request to a given location asynchronously to load
a resource or to transmit data.

A POST request is made when a non-nil POST data is provided via the :post-data
option. It can be a string or a map of string keys to string values. The
browser displays the server&apos;s response.

Without POST data, a GET request is made to load a resource. Generally prefer
setting the widget&apos;s :url or :html properties to using load! for fetching
resources.

In both cases the location is either an instance of java.net.URL or a string
holding the URL. Use the browser events and the widget&apos;s :progress property
to keep track of the state.

HTTP headers are controlled via the :headers option which accepts a map of
string keys to string values.

Returns the browser widget.

Examples:

  (load! browser (java.net.URL. &quot;<a href="http://www.google.com&quot;))">http://www.google.com&quot;))</a>
  (load! browser &quot;<a href="http://localhost:8080&quot;)">http://localhost:8080&quot;)</a>
  (load! browser &quot;<a href="http://127.0.0.1&quot;)">http://127.0.0.1&quot;)</a>
  (load!
    browser
    &quot;<a href="http://www.google.com&quot">http://www.google.com&quot</a>;
    :headers {&quot;user-agent&quot; &quot;hidden&quot;})
  (load!
    browser
    &quot;<a href="http://localhost/register.php&quot">http://localhost/register.php&quot</a>;
    :post-data {&quot;username&quot; &quot;john-doe&quot; &quot;password&quot; &quot;1234&quot;})
  (load!
    browser
    &quot;<a href="http://localhost/upload.php&quot">http://localhost/upload.php&quot</a>;
    :post-data &quot;base64-encoded-image&quot;)

See:
  (reload!)
</pre></div></div><div class="public anchor" id="var-print.21"><h3>print!</h3><div class="usage"><code>(print! target with-dialog)</code></div><div class="doc"><pre class="plaintext">Prints the currently displayed content.

The print dialog is shown for the user to adjust the print settings if
with-dialog is true. Returns true if the operation is successful, false
otherwise.</pre></div></div><div class="public anchor" id="var-reload.21"><h3>reload!</h3><div class="usage"><code>(reload! target)</code></div><div class="doc"><pre class="plaintext">Fully reloads the currently displayed resource, if there is one.

A full reload implies that the content is re-requested from the server. As
with load!, the browser events as well as the :progress property provide
information to the operation&apos;s status.

Returns the browser widget.

See:
  (load!)
</pre></div></div><div class="public anchor" id="var-set-decorator-factory.21"><h3>set-decorator-factory!</h3><div class="usage"><code>(set-decorator-factory! f)</code></div><div class="doc"><pre class="plaintext">Sets a default decorator factory function to be used for new browser widgets
and browser popup windows if nothing else is specified, or removes a
previously set decorator factory when f is equal to nil in which case a
default factory is used internally.

The purpose of the decorator is to provide common controls for interacting
with a browser such as a navigation panel, status bar, menus and so on.

The decorator factory is either an instance of
JWebBrowser$WebBrowserDecoratorFactory or a function of type
(fn [browser rendering-component] ...) which returns an instance of
WebBrowserDecorator.

An easily extensible default decorator is provided by the class
DefaultWebBrowserDecorator which is also the default decorator used by the
browser widgets.

Returns nil.

Examples:

  (set-decorator-factory!
    (fn [browser rendering-component]
      (proxy [DefaultWebBrowserDecorator] [browser rendering-component]
        (addMenuBarComponents [menu-bar]
          (proxy-super addMenuBarComponents menu-bar)
            (let [items [(sw/menu-item :text &quot;My Custom Item 1&quot;)
                         (sw/menu-item :text &quot;My Custom Item 2&quot;)]
                  menu  (sw/menu :text &quot;[[My Custom Menu]]&quot; :items items)]
              (sw/add! menu-bar menu))))))

See:
  chrriis.dj.nativeswing.swtimpl.components.JWebBrowser$WebBrowserDecoratorFactory
  chrriis.dj.nativeswing.swtimpl.components.WebBrowserDecorator
  djnativeswing_clj.DefaultWebBrowserDecorator
</pre></div></div><div class="public anchor" id="var-stop-loading.21"><h3>stop-loading!</h3><div class="usage"><code>(stop-loading! target)</code></div><div class="doc"><pre class="plaintext">Aborts the loading of the currently requested resource.

Returns the browser widget.

See:
  (load!)</pre></div></div></div></body></html>